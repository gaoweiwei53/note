# 启动Vim
1. vim -R file: 以只读的方式打开文件，但可以强制保存；
2. vim -M file: 以只读的方式打开文件，不可以强制保存；
# 文档操作
1. :w – 保存修改
2. :x – 保存并退出
3. :saveas newfilename – 另存为
# 光标移动(可配合n使用)
- h或退格: 左移一个字符
- l或空格: 右移一个字符
- j: 下移一行
- k: 上移一行
- **B, W: 移动到上/下一个单词开头，忽略一些标点**
- **b,w: 移动到上/下一个单词开头，不忽略一些标点**
- **E: 移动到下一个单词末尾，跳过连接的标点符号**
- **-e: 移动到下一个单词的末尾，包括连接的标点符号**
- **^: 移动到本行第一个非空白字符**
- **$: 移动到行末**
- **nG: 到文件第n行**
或 **命令行输入“ : n ” 然后回车**
- H: 把光标移到屏幕最顶端一行
- M: 把光标移到屏幕中间一行
- L: 把光标移到屏幕最底端一行
- **gg: 到文件头部**
- **G: 到文件尾部**
# 翻屏
- ctrl+f: 下翻一屏
- ctrl+b: 上翻一屏
- ctrl+d: 下翻半屏
- ctrl+u: 上翻半屏
- ctrl+e: 向下滚动一行
- ctrl+y: 向上滚动一行
- 向下滚动一行，保持当前光标不动：Ctrl+E
- 向上滚动一行，保持当前光标不动：Ctrl+Y
# 插入文本
- i: 在光标所在处插入
- I: 在当前行第一个非空字符前插入
- a: 在光标后插入
- A: 在当前行最后插入
- o: 在下面新建一行插入
- O: 在上面新建一行插入
- :r filename在当前位置插入另一个文件的内容
- :[n]r filename在第n行插入另一个文件的内容
# 改写插入
- [n]cw: 改写光标后1(n)个词
- [n]cl: 改写光标后n个字母
- [n]ch: 改写光标前n个字母
- [n]cc: 修改当前[n]行
# 粘贴和复制
### 剪切
- dd：剪切光标所处当前行 
- n + dd：剪切光标所在行及以下共 n 行 按 p 粘贴在光标所在行
- 命令行方式 例如剪切1到10行，并粘贴在12行处： 1，10 m 12
### 复制
- y: 复制在可视模式下选中的文本
- **[n]yy: 复制n整行文本**
- **[n]yw: 复制一(n)个词**	
- **6,9 co 12  复制第6行到第9行之间的内容到第12行后面**
- **`6,9y`复制6到9行**
- [n]yl: 复制光标右边1(n)个字符
- [n]yh: 复制光标左边1(n)个字符
### 删除
- **命令输入“：32,65d”,回车键，32-65行就被删除了**
- **[n]dw: 删除n个单词**
- **D/d$: 删除当前位置到行尾的内容**
-  **d0: 删除当前位置到行首的内容**
-  **[n] dd: 删除n行**
- d[n]l: 删除光标右边1(n)个字符
- d[n]h: 删除光标左边1(n)个字符
- `gg` + `dG`删除所有，`dG`表示删除光标后的内容

## 粘贴
- **p: 在光标之后粘贴**
- **P: 在光标之前粘贴**
## 撤销
- u: 撤销
- Ctrl r：反撤销
- . : 重复上一次操作
-  :e!  撤销未保存的全部编辑操作，重新载入文件
# 查找与替换
- **/something: 在后面的文本中查找something**
- **?something: 在前面的文本中查找something**
- /pattern/+number: 将光标停在包含pattern的行后面第number行上
- /pattern/-number: 将光标停在包含pattern的行前面第number行上
- n: 向后查找下一个
- N: 向前查找下一个
- :%s/old/new/g - 用new替换文件中所有的old
# 多文件编辑
- vim file1, file2, file3
- :n 编辑下一个文件
- :N 编辑上个文件
- :files 列出目前这个vim打开的所有文件
# 多窗口编辑
上面介绍的是一个窗口打开一个或多个文件，vim还提供多个窗口打开一个或多个文件。
有时候，当一个文件特别大例如1000行，在查阅到后面的数据时，我们需要和前面的数据做对比，这时候多窗口就十分有用。
- sp filename 打开一个新窗口，如果有filename，表示在新窗口打开一个新文件，否则表示新建一个窗口显示同一个文件（同步显示）
- **vsp filename 打开的vim窗口是垂直排列的**
- ctr + w + j(下方向箭) : 光标切换到下一个窗口
- ctr + w + k(上方向箭)：光标切换到上一个窗口
-  ctr + w + h
-  ctr + w + l
- Ctrl + w + p：移动到前一个访问的窗口
- Ctrl + w + b：移动到最右下角的窗口
- Ctrl + w + t：移动到最左上角的窗口
- Ctrl + w + w：这个命令会在所有窗口中循环移动
- q! 退出当前窗口
- only 保留当前窗口，关闭其它所有窗口
- qa 退出所有窗口
- wall 保存所有窗口
- 打开多个窗口的命令以下几个：  
横向切割窗口  
:new+窗口名(保存后就是文件名)  
:split+窗口名，也可以简写为:sp+窗口名  
纵向切割窗口名  
:vsplit+窗口名，也可以简写为：vsp+窗口名  
- 关闭多窗口  
可以用：q!，也可以使用：close，最后一个窗口不能使用close关闭。使用close只是暂时关闭窗口，其内容还在缓存中，只有使用q!、w!或x才能真能退出。  
:tabc 关闭当前窗口  
:tabo 关闭所有窗口  
- 窗口切换  
:ctrl+w+j/k，通过j/k可以上下切换，或者:ctrl+w加上下左右键，还可以通过快速双击ctrl+w依次切换窗口。  
- 窗口大小调整  
纵向调整  
:res(ize) num 例如：:res 5，显示行数调整为5行  
:res(ize) + num 把当前窗口高度增加num行  
:res(ize) - num 把当前窗口高度减少num行  
横向调整  
:vertical res(ize) num 指定当前窗口为num列  
:vertical res(ize) + num 把当前窗口增加num列  
:vertical res(ize) - num 把当前窗口减少num列  
- 给窗口重命名  
:f file  
- vi打开多文件  
vi a b c  
:n 跳至下一个文件，也可以直接指定要跳的文件，如:n c，可以直接跳到c文件  
:e# 回到刚才编辑的文件  
- 文件浏览  
:Ex 开启目录浏览器，可以浏览当前目录下的所有文件，并可以选择  
:Sex 水平分割当前窗口，并在一个窗口中开启目录浏览器  
:ls 显示当前buffer情况  
- vi与shell切换  
:shell 可以在不关闭vi的情况下切换到shell命令行  
:exit 从shell回到vi
## 其他
- :set nu：显示行号
- :set nonu：取消显示行号
- **:w newfile 另存为**
- :set fileencoding 查看当前文件编码格式
- :set fileencoding=utf-8 设置当前文件编码格式为utf-8，也可以设置成其他编码格式
- :set fileformat 查看当前文件的断行格式（dos\windows,unix或macintosh）
- :set fileformat=unix 将当前文件的断行格式设置为unix格式
